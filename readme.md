# H1 ШПАРГАЛКА ПО GIT
---
### H3 Установка и настройка Git
- команда задает параметры git
```bash
git config --global
```
команда выводит конфигурационные параметры git
```bash
git config --list
```
cat ~/.gitconfig - проверка файла конфигурации

### H3 Инициируем репозиторий
git init - инициализиует репозиторий в текущей папке
Не рекомендуется создавать репозиторий git внутри другого git репозитория
rm -rf .git - "разгитить" папку
git status - проверить состояние репозитория

### H3 Добавляем файл в репозиторий
git add <имя_файла>
git add --all - добавить все файлы папки
git add . - добавить все файлы текущей папки

### H3 Коммит
git commit - создает коммит
git commit -m "комментарий к коммиту" - создает коммит с комментарием

### H3 История коммитов
git log

### H3 Привязать удаленный репозиторий к локальному
git remote add <имя удаленного репозитория> <URL удаленного репозитория> - команда принимает два параметра 
Например, git remote add origin git@github.com:abelokur/git-crib.git

git remote -v убедиться,что локальный и удаленный репозитории связыны

### H3 Отправить изменения на удаленный репозиторий
```bash
git push
```
В первый раз эту команду нужно вызвать с флагом -u и параметрами origin (имя удаленного репозитория) и master (название текущей ветки)
```bash
git push -u origin master
```

## H2 СПРИНТ 6
### H3 Внутри коммита
### H3 Хэш, лог и HEAD
Хэш - идентификатор коммита
Хэш хранит таблицу соответствий хеш - информация о коммите
Хэш основной идентификатор коммита
Хэш можно передавать в качестве параметра git-командам, чтобы указать с каким коммитом нужно произвести то или иное действие

### H3 Исследуем лог
список коммитов с их описанием
```bash
git log
```
сокращенный лог
```bash
git log --oneline
```

### H3 HEAD
Файл HEAD один из служебных файлов папки .git. Он указывает на коммит, который сделали последним (т.е. на самый новый).

В HEAD ссылка на файл ```bash refs/heads/master ```
В этом файле хэш последнего коммита

Когда вы делаете коммит GIT обновляет ```bash refs/heads/master ``` записывая в него хэш последнего коммита

Если нужно передать в команду последний коммит, то вместо его хеш можно написать HEAD

### H3 Зачем нужны статусы файлов и как читать git status

проверить состояние (или статус) файлов
```bash
git status
```

### H3 Статусы

unchacked - неотслеживаемый
staged - подготовленный. После выполнения git add попадает в список файлов, которые попадут в коммит
staging area также называется index или cache, а файл также может называеться indexed или cached
tracked - отслеживаемый
modified - GIT сравнил содержимое файла с последней сохраненной версией и нашел отличия

### H3 Какие состояния показывает команда git status
- staged - changes to be commited
- modified - changes not staged for commit
- untracked - untracked files

### H3 Оформление сообщений к коммитам

Сообщение должно помочь определить что внутри.
Сообщениекоммита должно быть:
- относительно коротким, чтобы его было легко читать
- информативным

## H2 Как исправить коммит
добавить ещё пару файлов или заменить сообщение на более информативное
```bash
git commit --amend
```

### H3 Дополнить коммит новыми файлами
Добавляем новые файлы файлы в индекс
```bash
git add <файлы>
```
затем команда
```bash
git commit --amend --no-edit
```

С опцией  --amend  комманда  commit создаст новый коммит, которым заменит ваш последний.

### H3 Изменить сообщение коммита
```bash
git commit --amend -m "Новое сообщение"
```

## H2 Как откатиться назад, если «всё сломалось»

Выполнить unstage изменений - ```bash
git restore --staged <file>
```

### H3 «Откатить» коммит
```bash
git reset --hard <commit hash>
```

### H3 «Откатить» изменения, которые не попали ни в staging, ни в коммит

Может быть так, что вы случайно изменили файл, который не планировали.

```bash
git restore <file>
```

### Просматриваем изменения и сопоставляем коммиты

```bash
git diff
```

По умолчанию git diff не показывает изменения в staged-файлах - только в modified
Используй флаг --staged git diff --staged

### Порядок аргументов git diff
По сути команда git diff A B выводит список инструкций: как превратить состояние  A  в состояние  B `.
Если поменять  A  и  B  местами (bash git diff B A), то и инструкции будут обратные: как превратить  A  в  B . При этом все зелёные строки станут красными и наоборот.

## Игнорирование файлов Git

### Как заполнить .gitignore
С точки зрения Git .gitignore - это обычный текстовый файл. Его добавляют в корень репозитория и тоже коммитят.

## Спринт 6/26. Тема 6/7. Git: Основы работы с ветками

### Просмотреть ветки проекта
```bash
git branch
```

### Создаем ветку и переключаемся в нее
```bash
git branch <название ветки>
```

### Переключиться на новую ветку
```bash
git checkout <название ветки>
```

### Создать ветку и сразу переключиться в нее
```bash
git checkout -b <название ветки>
```

### Удаление ветки
Удалить ветку можно параметром branch с добавлением флага -d и указанием имени ветки. Если вы завершили работу над веткой и объединили её с основной, можно её удалить без потери истории. Однако, если выполнить команду удаления до слияния — в результате появится сообщение об ошибке. Этот защитный механизм предотвращает потерю доступа к файлам.
```bash
git branch -d existing_branch_name
```
Для принудительного удаления ветки используется флаг -D с заглавной буквой. В этом случае ветка будет удалена независимо от текущего статуса, без предупреждений.
```bash
git branch -D existing_branch_name
```
Вышеуказанные команды удаляют только локальную копию ветки. В удалённом репозитории она может сохраниться. Если хотите стереть удалённую ветку, выполните следующую команду:
```bash
git push origin --delete existing_branch_name
```

### Отобразить все ветки
Отображает только локальные ветки
```bash
git branch
```
Отображает все ветки (локальные и хранащиеся на сервере GitHub)
```bash
git branch -a
```
